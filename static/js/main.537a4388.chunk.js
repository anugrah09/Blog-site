(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{217:function(e,t,r){},405:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(5),c=r(135),s=r.n(c),i=(r(217),r(27)),o=r(28),l=r(30),j=r(29),d=r(10),u=r(7),h=r(12),b=Object(h.b)(null,(function(e){return{signOut:function(){return e((function(e,t,r){(0,r.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return Object(a.jsx)("nav",{className:"nav-wrapper grey",children:Object(a.jsxs)("ul",{className:"right",children:[Object(a.jsx)("li",{children:Object(a.jsx)(d.c,{to:"/createproject",children:"New Project"})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{onClick:e.signOut,children:"LogOut"})}),Object(a.jsx)("li",{children:Object(a.jsx)(d.c,{to:"/",className:"btn btn-floating red",children:e.profile.initials})})]})})})),p=function(){return Object(a.jsx)("nav",{className:"nav-wrapper grey",children:Object(a.jsxs)("ul",{className:"right",children:[Object(a.jsx)("li",{children:Object(a.jsx)(d.c,{to:"/signin",children:"LogIn"})}),Object(a.jsx)("li",{children:Object(a.jsx)(d.c,{to:"/signup",children:"SignUp"})})]})})},O=Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,r=e.profile,n=t.uid?Object(a.jsx)(b,{profile:r}):Object(a.jsx)(p,{});return Object(a.jsx)("nav",{className:"nav-wrapper grey darken-3",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(d.b,{to:"/",className:"brand-logo",children:"BlogSite"}),n]})})})),m=r(88),f=r.n(m),x=function(e){var t=e.project;return Object(a.jsx)("div",{className:"card z-depth-0 project-summary",children:Object(a.jsxs)("div",{className:"card-content black-text ",children:[Object(a.jsx)("span",{className:"card-title",children:t.title}),Object(a.jsxs)("p",{children:["Posted by ",t.authorfirstname," ",t.authorlastname]}),Object(a.jsx)("p",{className:"grey-text",children:f()(t.createdat.toDate()).calendar()})]})})},g=function(e){var t=e.projects;return Object(a.jsx)("div",{className:"project-list section",children:t&&t.map((function(e){return Object(a.jsx)(d.b,{to:"/project/"+e.id,children:Object(a.jsx)(x,{project:e})},e.id)}))})},v=r(31),N=r(19),C=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props,t=e.projects;return e.auth.uid?Object(a.jsx)("div",{className:"dashboard container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col s12 m6",children:Object(a.jsx)(g,{projects:t})})})}):Object(a.jsx)(u.a,{to:"/signin"})}}]),r}(n.Component),S=Object(N.d)(Object(h.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}})),Object(v.firestoreConnect)([{collection:"projects"}]))(C);var y=Object(N.d)(Object(h.b)((function(e,t){var r=t.match.params.id,a=e.firestore.data.projects;return{project:a?a[r]:null,auth:e.firebase.auth}})),Object(v.firestoreConnect)([{collection:"projects"}]))((function(e){e.match.params.id;var t=e.project;return e.auth.uid?t?Object(a.jsx)("div",{className:"container section projectDetails",children:Object(a.jsxs)("div",{className:"card x-depth-0",children:[Object(a.jsxs)("div",{className:"card-content",children:[Object(a.jsxs)("span",{className:"card-title",children:["Project title - ",t.title]}),Object(a.jsx)("p",{children:t.content})]}),Object(a.jsxs)("div",{className:"card-action grey-text",children:[Object(a.jsxs)("div",{children:["Posted by-",t.authorfirstname," ",t.authorlastname]}),Object(a.jsxs)("div",{children:[" ",f()(t.createdat.toDate()).calendar()]})]})]})}):Object(a.jsx)("div",{className:"container center",children:Object(a.jsx)("p",{children:"loading post..."})}):Object(a.jsx)(u.a,{to:"/signin"})})),w=r(35),E=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?Object(a.jsx)(u.a,{to:"/"}):Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(a.jsx)("h5",{className:"black-text darken-3",children:"Sign In"}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{id:"email",type:"email",onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{id:"password",type:"password",onChange:this.handleChange})]}),Object(a.jsx)("div",{className:"input-field",children:Object(a.jsx)("button",{className:"btn red",children:"Login"})}),Object(a.jsx)("div",{className:"red-text center",children:t?Object(a.jsx)("p",{children:t}):null})]})})}}]),r}(n.Component),I=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((r=t,function(e,t,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(r.email,r.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var r}}}))(E),F=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",firstname:"",lastname:""},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.authError;return t.uid?Object(a.jsx)(u.a,{to:"/"}):Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{className:"white",onSubmit:this.handleSubmit,children:[Object(a.jsx)("h5",{className:"grey-text text-darken-3",children:"Sign Up"}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",id:"email",onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",id:"password",onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(a.jsx)("input",{type:"text",id:"firstName",onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(a.jsx)("input",{type:"text",id:"lastName",onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("button",{className:"btn red lighten-1 z-depth-0",children:"Sign Up"}),Object(a.jsx)("div",{className:"center red-text",children:r?Object(a.jsx)("p",{children:r}):null})]})]})})}}]),r}(n.Component),P=Object(h.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e((r=t,function(e,t,a){var n=a.getFirebase,c=a.getFirestore,s=n(),i=c();s.auth().createUserWithEmailAndPassword(r.email,r.password).then((function(e){return i.collection("users").doc(e.user.uid).set({firstName:r.firstName,lastName:r.lastName,initials:r.firstName[0]+r.lastName[0]})})).then((function(){e({type:"SIGNUP_SUCCESS"})})).catch((function(t){e({type:"SIGNUP_ERROR",err:t})}))}));var r}}}))(F),U=r(20),R=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(i.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={title:"",content:""},e.handleChange=function(t){e.setState(Object(w.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createProject(e.state),e.props.history.push("/")},e}return Object(o.a)(r,[{key:"render",value:function(){return this.props.auth.uid?Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:"white",children:[Object(a.jsx)("h5",{className:"black-text darken-3",children:"Create Project"}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{id:"title",type:"text",onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"input-field",children:[Object(a.jsx)("label",{htmlFor:"content",children:"Content"}),Object(a.jsx)("textarea",{id:"content",className:"materialize-textarea",onChange:this.handleChange})]}),Object(a.jsx)("div",{className:"input-field",children:Object(a.jsx)("button",{className:"btn red",children:"Create"})})]})}):Object(a.jsx)(u.a,{to:"/signin"})}}]),r}(n.Component),_=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,r,a){a.getFirebase;var n=(0,a.getFirestore)(),c=r().firebase.profile,s=r().firebase.auth.uid;n.collection("projects").add(Object(U.a)(Object(U.a)({},e),{},{authorfirstname:c.firstName,authorlastname:c.lastName,authorid:s,createdat:new Date})).then((function(){t({type:"Create_Project",project:e})})).catch((function(e){t({type:"Create_Project_error",error:e})}))}}(t))}}}))(R),k=function(e){Object(l.a)(r,e);var t=Object(j.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return Object(a.jsxs)(d.a,{children:[Object(a.jsx)(O,{}),Object(a.jsxs)(u.d,{children:[Object(a.jsx)(u.b,{exact:!0,path:"/",component:S}),Object(a.jsx)(u.b,{path:"/project/:id",component:y}),Object(a.jsx)(u.b,{path:"/signin",component:I}),Object(a.jsx)(u.b,{path:"/signup",component:P}),Object(a.jsx)(u.b,{path:"/createproject",component:_})]})]})}}]),r}(n.Component),L=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,406)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},G={authError:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return console.log("LogIn Success"),Object(U.a)(Object(U.a)({},e),{},{authError:null});case"LOGIN_ERROR":return console.log("LogIn Error"),Object(U.a)(Object(U.a)({},e),{},{authError:"Login error"});case"SIGNOUT_SUCCESS":return console.log("SIGNOUT_SUCCESS"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(U.a)(Object(U.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(U.a)(Object(U.a)({},e),{},{authError:t.err.message});default:return e}},D={},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Create_Project":return console.log("created project",t.project),e;case"Create_Project_error":return console.log("Create_Project error",t.error),e;default:return e}},z=r(65),B=Object(N.c)({auth:A,project:T,firestore:z.firestoreReducer,firebase:v.firebaseReducer}),J=r(211),Q=r(90);r(400),r(403);Q.a.initializeApp({apiKey:"AIzaSyDeGjS3R76nN1xa1S0p_Qtp-2H_7xdq5C4",authDomain:"fir-c67b2.firebaseapp.com",databaseURL:"https://fir-c67b2-default-rtdb.firebaseio.com",projectId:"fir-c67b2",storageBucket:"fir-c67b2.appspot.com",messagingSenderId:"331242542810",appId:"1:331242542810:web:82aafe0b41a2778d6df7e3",measurementId:"G-Z8DVQGNE97"}),Q.a.firestore().settings({timestampsInSnapshots:!0});var W=Q.a,q=function(){return Object(a.jsx)("div",{className:"black-text center",children:"Loading..."})},H=Object(N.e)(B,Object(N.d)(Object(N.a)(J.a.withExtraArgument({getFirebase:v.getFirebase,getFirestore:z.getFirestore})),Object(v.reactReduxFirebase)(W,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(z.reduxFirestore)(W)));H.firebaseAuthIsReady?H.firebaseAuthIsReady.then((function(){s.a.render(Object(a.jsx)(h.a,{store:H,children:Object(a.jsx)(k,{})}),document.getElementById("root")),L()})):(s.a.render(Object(a.jsx)(q,{}),document.getElementById("root")),L())}},[[405,1,2]]]);
//# sourceMappingURL=main.537a4388.chunk.js.map